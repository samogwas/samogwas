language: cpp
compiler:
- gcc

before_install:
  - sudo apt-get update -qq
  - if [ "$CXX" == "g++" ]; then sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test;
    fi
  - sudo apt-add-repository "deb http://archive.ubuntu.com/ubuntu/ trusty main restricted" -y
  - sudo add-apt-repository --yes ppa:kalakris/cmake
  - sudo apt-get update -qq

install:
  - if [ "$CXX" == "g++" ]; then sudo apt-get install -qq g++-4.8; fi
  - if [ "$CXX" == "g++" ]; then sudo update-alternatives --install /usr/bin/g++ g++
    /usr/bin/g++-4.8 50; fi
  - sudo apt-get install libboost-thread-dev libboost-system-dev libboost-test-dev
  - sudo dpkg -S /usr/include/boost/version.hpp
  - sudo apt-get install cmake

# test test test
script: 
  - mkdir build && cd build && cmake ..
  - make -j4 && ./tests/boosttest-tests-samogwas_test_suite 

notifications:
  email:
    recipients: license.to.kill.dr.no@gmail.com 
    on_success: change
    on_failure: always


